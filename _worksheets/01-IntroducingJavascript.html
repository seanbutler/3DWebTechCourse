---
layout: slides
title:  "Javascript: The Good The Bad and the Ugly"
date:   2017-09-13 23:46:24 +0100
---

<section data-background-color="#ff7f00">
    <h1>Javascript: The Good The Bad and the Ugly</h1>
    <p>part of 3d tech for the web course</p>
    <p>see also: http://gnab.github.io/js-workshop/#1</p>
</section>

<section>
    <h2>Aims and Objectives</h2>
    <p>Understand Why Javascript</p>
    <p>Why do people dislike it?</p>
    <p>Review The Differences from other Languages</p>
    <p>Be Familiar Enough to Migrate</p>
    <p>Review Several Common Pitfalls/Gotchas for new js programmers</p>
</section>

<section>
    <h2>Javascript for Java Programmers</h2>
    <p><a href = "https://developer.mozilla.org/en-US/docs/Web/JavaScript/A_re-introduction_to_JavaScript">mozilla // intro to js</a></p>
    <p><a href = "https://stackoverflow.com/questions/536912/teaching-javascript-to-java-programmers">stack overflow // js to java programmers</a></p>
</section>

<section>
    <h2>General syntax</h2>
    <img src = "/3DWebTechCourse/worksheets/assets/java.png">
    <img src = "/3DWebTechCourse/worksheets/assets/javascript.png">
    <ul>
        <li>Similar Yet Different</li>
        <li>Derived from Self and C so might be familiar to _anyone_ coming from those languages.</li>
        <li>There are several important differences from how you might expect a language to behave. Especially if coming from Java.</li>
    </ul>
</section>

<section>
    <h2>Why Javascript?</h2>
    <ul>
        <li>ubiquitous</li>
        <li>www</li>
        <li>Javascript is different from _whatever you were using before_</li>
        <li>May cause pain, but there is pain for all new language learning</li>
    </ul>
</section>

<section data-background-color="#ff7f00">
    <h1>The Good Parts</h1>
</section>

<section>
    <h1>DOM Access</h1>
    <ul>
        <li>Access The internal model of web pages (DOM)</li>
        <li>The DOM is big and complicated, vendors implemented it differently and its not completely standard</li>
    </ul>
</section>

<section>
    <h2>Objects</h2>
    <p>objects are 'just' a collection of key value pairs</p>

    <pre>
        <code>
var obj = {
    key1: 'value1',
    key2: 13
};

obj.key1;         // 'value1'
obj['key2'];      // 13
obj.key3;         // undefined

delete obj.key1;
obj.key1;         // undefined
        </code>
    </pre>
</section>

<section>
    <h2>Arrays</h2>

    <pre>
        <code>
var arr = [1, "two", 3];

arr.push(4);

arr[1];         // "two"
arr[3] = 4;
arr.length;     // 4
        </code>
    </pre>

</section>

<section>
    <h2>Objects are Arrays</h2>

    <pre>
        <code>
var obj = [1, 2, 3];
obj.speed = 5;

obj[1];         // 2
obj.speed       // 5
obj['speed'];   // 5

obj.length;     // 3
        </code>
    </pre>



    <section>
        <h2>Objects are Arrays</h2>

        <pre>
            <code>
    var obj = [1, 2, 3];
    obj.speed = 5;

    var i;
    for (i = 0; i < obj.length; ++i) {
        obj[i];  // 1, 2, 3
    }

    var key;
    for (key in obj) {
        obj[key];  // 1, 2, 3, 5
    }
            </code>
        </pre>
    </section>
</section>


<section>
    <h2>Types</h2>

    <pre>
        <code>
new Object();       // {}
new Array();        // []
new Number(1);      // 1
new Boolean(true);  // true

typeof {};          // 'object'
typeof [];          // 'object'     WTF?
typeof 1;           // 'number'
typeof '';          // 'string'
typeof true;        // 'boolean'

typeof null;        // 'object'     WTF?
        </code>
    </pre>
</section>

<section>
    <h2>Functions</h2>
    <pre>
        <code>
function () {}

function add (a, b) {
  return a + b;
}

var multiply = function (a, b) {
  return a * b;
};

var recur = function rec (num) {
  if (num === 0) { return num; }
  return rec(num - 1);
};
        </code>
    </pre>


    <section>
        <h2>Functions</h2>
        <p>can access their arguments, length and callee</p>
        <pre>
            <code>
    function countArgs () {
        return arguments.length;
    }

    countArgs();              // 0
    countArgs('one');         // 1
    countArgs('one', 'two');  // 2
            </code>
        </pre>
    </section>

    <section>
        <h2>Functions</h2>
        <p>are first order objects can be assigned and returned like any other variable</p>
        <pre>
            <code>
    function createFunction () {
        return function () {
        };
    }

    var anonymous = createFunction();
    anonymous();  // undefined
            </code>
        </pre>
    </section>

</section>

<section>
    <h2>Scope</h2>
    <p>Function Scope, not Block Scope you are used to</p>
    <pre>
        <code>
function () {
    i;  // undefined    WTF?

    for (var i = 0; i < 10; i++) {

    }

    i;  // ?
}
</code>
</pre>

<section>
<p>so we move all variable declarations to the top of their function</p>
<pre>
    <code>

function () {
  var i;

  for (i = 0; i < 10; i++) {

  }

  i;  // 10
}

        </code>
    </pre>

</section>
</section>

<section>
    <h2>Scope</h2>
    <p>External Access</p>
    <pre>
        <code>
var a = 1;

function doSomething () {
  a;  // 1

  function doMore () {
    a;  // 1
  }
}
</code>
</pre>

    <section>

    <p>but not the other way around</p>
    <pre>
        <code>
    function doSomething () {
      var b = 1;

      function doMore () {
        b;  // 1
      }
    }
    doSomething();

    b;  // ReferenceError
            </code>
        </pre>

    </section>




<section>
    <h2>Scope</h2>
    <p>Function Scope, not Block Scope you are used to</p>
    <pre>
        <code>
function () {
    i;  // undefined    WTF?

    for (var i = 0; i < 10; i++) {

    }

    i;  // ?
}
        </code>
    </pre>


</section>

</section>


<section data-background-color="#ff7f00">
    <h2>In Java everything is an Object</h2>
    <h2>In Clojure everything is a List</h2>
    <h2>In Javascript everything is a Mistake</h2>
</section>

<section data-background-color="#ff7f00">
    <h1>The Bad Parts</h1>
</section>

<section>
    <h2>The Global Namespace</h2>

    <img src = "/3DWebTechCourse/worksheets/assets/js_global_for_itor.png">

    <p>Why are globals evil?</p>
    <p>There are ways around this. Use them</p>
</section>

<section>
    <h2>Equals</h2>
    <ul>
        <li>==</li>
        <li>!==</li>
        <li>===</li>
        <li>!==</li>
    </ul>
</section>

<section>
    <h2>with statement</h2>
</section>

<section>
    <h2>eval</h2>
    <p>major security problem</p>
    <p>you pass control of your program to the contents of a string variable</p>
    <p>so you have to up things in place to stop malicious code getting in there</p>
    <p>don't</p>
</section>

<section>
    <h2>continue</h2>
    <p>continue jumps back to the top of a loop</p>
    <p>refactor it out</p>
    <p>simpler & singular, and overall easier to read</p>
    <p>express your branches separately from the loop itself</p>
</section>

<section>
    <h2>switch fallthrough</h2>
    <p>generally not needed</p>
    <p>only use if you have to</p>
    <p>most switches are expected to not fall through, so if you do, then make sure you announce it clearly</p>
    <p>refactor it out</p>
</section>

<section>
    <h2>Blockless Statements</h2>
    <p>if, while, do, for statements take a block</p>
    <p>blocks can be singles lines or other statements without the { }</p>
    <p>this can lead to some confusing issues</p>
</section>

<section>
    <h2>increment and decrement</h2>
</section>

<section>
    <h2>bitwise operators</h2>
    <ul>
        <li>dont match expectations for migrating Programmers</li>
        <li>usually v fast</li>
        <li>js they are slow</li>
    </ul>
</section>

<section>
    <h2>Main Differences Between Javascript and Java</h2>
</section>

<section>
    <h2>Built In Types</h2>
</section>

<section>
    <h2>Numbers</h2>
</section>

<section>
    <h2>Strings</h2>
</section>

<section>
    <h2>Prototype Objects rather than classes</h2>
    <p>a set of idioms for encapsulation that rely on the dynamic nature of the language. es2016 introduces class syntax for the traditional approach.</p>
</section>

<section>
    <h2>Untyped variables</h2>
    <p>var & hoisting</p>
    <p>es2016 introduced let</p>
</section>

<section>
    <h2>Recent Introductions</h2>
    <p>classes</p>
    <p>let</p>
    <p>new function syntax</p>
</section>

<section>
    <h2>Further Reading</h2>
    <p>Crockford, D. (2008) Javascript: The Good Parts. Oreilly YAHOO Press.</p>
    <p>https://www.d.umn.edu/~gshute/webdev/javascript/javascript.xhtml</p>
    <p>http://blog.angular-university.io/javascript-for-java-developers/</p>
    <p>http://blog.firetree.net/2005/06/16/object-orientated-javascript/</p>
</section>
